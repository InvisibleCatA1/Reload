package com.invisiblecat.reload.module.modules.exploit;

import com.invisiblecat.reload.event.EventTarget;
import com.invisiblecat.reload.event.events.EventRecivePacket;
import com.invisiblecat.reload.event.events.EventUpdate;
import com.invisiblecat.reload.module.Category;
import com.invisiblecat.reload.module.Module;
import com.invisiblecat.reload.setting.settings.ModeSetting;
import com.invisiblecat.reload.setting.settings.NumberSetting;
import com.invisiblecat.reload.utils.TimerUtils;
import net.minecraft.network.Packet;
import net.minecraft.network.play.INetHandlerPlayServer;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C0FPacketConfirmTransaction;
import net.minecraft.network.play.server.S08PacketPlayerPosLook;

import java.util.LinkedList;

public class Disabler extends Module {

    private final TimerUtils lagDelay = new TimerUtils();
    private boolean packetEdited = false;

    private final ModeSetting mode = new ModeSetting("Mode", "Verus", "Verus");
    private final NumberSetting repeat = new NumberSetting("Repeat", 1, 1, 5, 1);


    public Disabler() {
        super("Disabler", 0, Category.EXPLOIT, AutoDisable.NONE);
        this.addSettings(mode);
    }

    @EventTarget
    public void onUpdate(EventUpdate event) {
        switch (mode.getSelected().toLowerCase().replaceAll("\\s", "")) {
            case "verus":
                if(lagDelay.hasTimePassed(490, true)) {
                    for(int i = 0; i < repeat.getValueInt(); i++)
                        mc.getNetHandler().addToSendQueue();
                }
        }
    }

    @EventTarget
    public void onPacket(EventRecivePacket event) {
        Packet packet = event.getPacket();

        switch (mode.getSelected().toLowerCase().replaceAll("\\s", "")) {
            case "verus":

        }
    }
}
